<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ce Spun Românii</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body class="min-h-screen">
    <div class="container mx-auto px-4 py-8">
      <!-- Header -->
      <header class="text-center mb-8 md:mb-12">
        <h1
          class="text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg"
        >
          CE SPUN ROMÂNII
        </h1>
        <div class="flex justify-center gap-4 md:gap-8 game-icons">
          <i class="fas fa-users text-4xl md:text-6xl text-yellow-400"></i>
          <i class="fas fa-trophy text-4xl md:text-6xl text-yellow-400"></i>
          <i class="fas fa-star text-4xl md:text-6xl text-yellow-400"></i>
        </div>
        <p class="text-blue-200 text-lg md:text-xl mt-6 font-semibold">
          Un joc interactiv pentru minți curioase.
        </p>
      </header>

      <!-- Main Actions -->
      <main class="max-w-lg mx-auto space-y-6">
        <!-- Error Message -->
        <div
          id="errorMessage"
          class="hidden error-alert rounded-xl p-4 text-red-200 text-center font-semibold"
        >
          <i class="fas fa-exclamation-triangle mr-2"></i>
          <span id="errorText"></span>
        </div>

        <!-- Start New Game -->
        <section class="game-card rounded-xl p-6">
          <div class="text-center mb-4">
            <i class="fas fa-play-circle text-4xl text-yellow-400 mb-3"></i>
            <h2 class="text-xl font-bold text-white mb-2">Începe Joc Nou</h2>
            <p class="text-blue-200 text-sm">
              Creează un joc pentru echipele tale
            </p>
          </div>
          <button
            id="startGameBtn"
            class="w-full btn-primary py-4 px-6 rounded-lg font-bold text-lg focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-rocket mr-3"></i>
            CONFIGUREAZĂ JOCUL
          </button>
        </section>

        <!-- Open Existing Game -->
        <section class="game-card rounded-xl p-6">
          <div class="text-center mb-4">
            <i class="fas fa-key text-4xl text-yellow-400 mb-3"></i>
            <h2 class="text-xl font-bold text-white mb-2">
              Deschide un joc pentru participanți
            </h2>
            <p class="text-blue-200 text-sm">
              Echipele să fie pregătite de joc
            </p>
          </div>
          <form id="joinGameForm">
            <div class="mb-4">
              <input
                type="number"
                id="gameCode"
                name="gameCode"
                placeholder="Codul jocului"
                maxlength="6"
                pattern="[0-9]{6}"
                class="w-full input-field px-4 py-3 rounded-lg font-semibold text-center text-lg tracking-widest focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
                required
              />
            </div>
            <button
              type="submit"
              id="joinGameBtn"
              class="w-full btn-secondary py-3 px-6 rounded-lg font-bold focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <i class="fas fa-sign-in-alt mr-2"></i>
              INTRĂ ÎN JOC
            </button>
          </form>
        </section>

        <!-- Continue Game with Control/Display -->
        <section class="game-card rounded-xl p-6">
          <div class="text-center mb-4">
            <i class="fas fa-gamepad text-4xl text-yellow-400 mb-3"></i>
            <h2 class="text-xl font-bold text-white mb-2">Continuă un joc</h2>
            <p class="text-blue-200 text-sm">
              Deschide și contiună un joc pus pe pauză
            </p>
          </div>

          <form id="continueGameForm" class="space-y-4">
            <div>
              <input
                type="number"
                id="continueGameCode"
                name="continueGameCode"
                placeholder="Codul jocului"
                maxlength="6"
                pattern="[0-9]{6}"
                class="w-full input-field px-4 py-3 rounded-lg font-semibold text-center text-lg tracking-widest focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
                required
              />
            </div>

            <div class="grid grid-cols-2 gap-3">
              <button
                type="submit"
                data-mode="control"
                class="btn-secondary py-3 px-4 rounded-lg font-bold focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <i class="fas fa-cog mr-2"></i>
                MODERATOR
              </button>
              <button
                type="submit"
                data-mode="display"
                class="btn-secondary py-3 px-4 rounded-lg font-bold focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <i class="fas fa-tv mr-2"></i>
                PARTICIPANȚI
              </button>
            </div>
          </form>
        </section>

        <!-- Game Rules -->
        <section class="game-card rounded-xl p-6">
          <button
            id="rulesToggle"
            class="w-full text-left text-white font-bold hover:text-yellow-400 transition-colors focus:outline-none rounded-lg p-2"
            aria-expanded="false"
            aria-controls="rulesContent"
          >
            <i class="fas fa-question-circle mr-3 text-yellow-400"></i>
            <span class="text-lg">Cum se joacă?</span>
            <i
              class="fas fa-chevron-down float-right mt-1 transform transition-transform duration-300"
              id="rulesChevron"
            ></i>
          </button>

          <div
            id="rulesContent"
            class="hidden mt-4 rules-content rounded-lg p-4 text-blue-200"
            aria-hidden="true"
          >
            <div class="space-y-3 text-sm leading-relaxed">
              <div class="flex items-start">
                <i
                  class="fas fa-users text-yellow-400 mr-3 mt-1 flex-shrink-0"
                ></i>
                <span
                  ><strong>Două echipe</strong> concurează pentru a ghici
                  răspunsurile cele mai populare la întrebări de sondaj</span
                >
              </div>
              <div class="flex items-start">
                <i
                  class="fas fa-star text-yellow-400 mr-3 mt-1 flex-shrink-0"
                ></i>
                <span
                  ><strong>Punctajul</strong> se acordă în funcție de
                  popularitatea fiecărui răspuns corect</span
                >
              </div>
              <div class="flex items-start">
                <i
                  class="fas fa-trophy text-yellow-400 mr-3 mt-1 flex-shrink-0"
                ></i>
                <span
                  ><strong>Câștigă</strong> echipa cu cele mai multe puncte la
                  sfârșitul jocului</span
                >
              </div>
              <div class="flex items-start">
                <i
                  class="fas fa-gamepad text-yellow-400 mr-3 mt-1 flex-shrink-0"
                ></i>
                <span
                  ><strong>Moderatorul</strong> folosește interfața de control
                  pentru a gestiona întregul joc</span
                >
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- Footer -->
      <footer class="text-center mt-12">
        <div class="max-w-md mx-auto">
          <div
            class="h-px bg-gradient-to-r from-transparent via-yellow-400 to-transparent mb-4"
          ></div>
          <p class="text-blue-300 text-sm font-semibold">
            <i class="fas fa-code mr-2"></i>
            Dezvoltat de Andrei Cionca
          </p>
          <p class="text-blue-400 text-xs mt-2 opacity-75">
            Inspirat de celebrul joc Family Feud
          </p>
        </div>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase/client.js"></script>
    <script src="index.js"></script>
  </body>
</html>
