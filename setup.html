<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configurare Joc - Ce Spun RomÃ¢nii</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="setup.css" />
  </head>
  <body class="min-h-screen">
    <div class="container mx-auto px-4 py-6 md:py-8">
      <!-- Header -->
      <header class="text-center mb-6 md:mb-8">
        <h1
          class="text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg"
        >
          CONFIGURARE JOC
        </h1>
        <div class="flex justify-center gap-4 md:gap-6 game-icons mb-4">
          <i class="fas fa-cog text-3xl md:text-4xl text-yellow-400"></i>
          <i class="fas fa-users text-3xl md:text-4xl text-yellow-400"></i>
          <i class="fas fa-rocket text-3xl md:text-4xl text-yellow-400"></i>
        </div>
        <p class="text-blue-200 text-base md:text-lg font-semibold">
          PregÄƒteÈ™te-È›i jocul perfect!
        </p>
      </header>

      <!-- Setup Form -->
      <main class="max-w-4xl mx-auto space-y-4 md:space-y-6">
        <!-- Step 1: Choose Game Type -->
        <section class="game-card rounded-xl p-4 md:p-6">
          <h2 class="text-lg md:text-xl font-bold text-white mb-4 step-header">
            <span class="step-indicator">1</span>
            Tip de Joc
          </h2>
          <div class="grid gap-3 md:grid-cols-2 md:gap-4">
            <div
              class="game-type-option rounded-lg p-4 cursor-pointer"
              data-type="quick"
            >
              <div class="text-center">
                <i
                  class="fas fa-bolt text-2xl md:text-3xl text-yellow-400 mb-2"
                ></i>
                <h3 class="text-white font-semibold text-sm md:text-base">
                  Joc Rapid
                </h3>
                <p class="text-blue-200 text-xs md:text-sm">
                  Alege unul dintre seturile de Ã®ntrebÄƒri disponibile
                </p>
              </div>
            </div>
            <div
              class="game-type-option rounded-lg p-4 cursor-pointer"
              data-type="custom"
            >
              <div class="text-center">
                <i
                  class="fas fa-wrench text-2xl md:text-3xl text-blue-400 mb-2"
                ></i>
                <h3 class="text-white font-semibold text-sm md:text-base">
                  Joc Personalizat
                </h3>
                <p class="text-blue-200 text-xs md:text-sm">
                  SelecteazÄƒ Ã®ntrebÄƒrile pentru jocul tÄƒu
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Step 2: Question Selection -->
        <section
          id="questionSection"
          class="game-card rounded-xl p-4 md:p-6 hidden"
        >
          <h2 class="text-lg md:text-xl font-bold text-white mb-4 step-header">
            <span class="step-indicator">2</span>
            SelecteazÄƒ ÃŽntrebÄƒrile
          </h2>

          <!-- Quick Game Sets -->
          <div id="quickGameSets" class="hidden">
            <div class="mb-4">
              <input
                type="text"
                id="setSearch"
                placeholder="CautÄƒ un set de Ã®ntrebÄƒri..."
                class="w-full px-4 py-3 rounded-lg search-input"
              />
            </div>
            <div
              id="availableSets"
              class="grid gap-3 md:grid-cols-2 lg:grid-cols-3 md:gap-4"
            >
              <!-- Sets will be loaded here -->
            </div>
          </div>

          <!-- Custom Game Questions -->
          <div id="customGameQuestions" class="hidden">
            <div class="mb-4">
              <input
                type="text"
                id="categorySearch"
                placeholder="CautÄƒ o categorie..."
                class="w-full px-4 py-3 rounded-lg search-input"
              />
            </div>

            <!-- All Categories button -->
            <div class="mb-4">
              <button
                id="allCategoriesBtn"
                class="category-btn rounded-lg px-4 py-2 cursor-pointer selected"
              >
                <i class="fas fa-list mr-2"></i>
                Toate Categoriile
              </button>
            </div>

            <div
              id="availableCategories"
              class="grid grid-cols-2 gap-2 md:grid-cols-3 lg:grid-cols-4 md:gap-3 mb-6"
            >
              <!-- Categories will be loaded here -->
            </div>

            <div class="mb-4">
              <div class="flex items-center justify-between">
                <h3 class="text-white font-semibold text-sm md:text-base">
                  ÃŽntrebÄƒri disponibile
                </h3>
                <div class="text-blue-200 text-sm">
                  Selectate:
                  <span id="selectedCount" class="text-yellow-400 font-bold"
                    >0</span
                  >
                </div>
              </div>
            </div>

            <div
              id="availableQuestions"
              class="grid gap-3 md:grid-cols-2 md:gap-4 max-h-80 md:max-h-96 overflow-y-auto custom-scrollbar"
            >
              <!-- Questions will be loaded here -->
            </div>
          </div>
        </section>

        <!-- Step 3: Team Setup -->
        <section
          id="teamSection"
          class="game-card rounded-xl p-4 md:p-6 hidden"
        >
          <h2 class="text-lg md:text-xl font-bold text-white mb-4 step-header">
            <span class="step-indicator">3</span>
            ConfigureazÄƒ Echipele
          </h2>
          <div class="space-y-4 md:grid md:grid-cols-2 md:gap-6 md:space-y-0">
            <div>
              <label
                class="block text-white font-semibold mb-2 text-sm md:text-base"
                for="team1Name"
              >
                <i class="fas fa-users mr-2 text-yellow-400"></i>
                Echipa 1
              </label>
              <input
                type="text"
                id="team1Name"
                placeholder="Nume echipa 1"
                class="w-full px-4 py-3 rounded-lg input-field"
              />
            </div>
            <div>
              <label
                class="block text-white font-semibold mb-2 text-sm md:text-base"
                for="team2Name"
              >
                <i class="fas fa-users mr-2 text-yellow-400"></i>
                Echipa 2
              </label>
              <input
                type="text"
                id="team2Name"
                placeholder="Nume echipa 2"
                class="w-full px-4 py-3 rounded-lg input-field"
              />
            </div>
          </div>
        </section>

        <!-- Step 4: Game Creation -->
        <section
          id="createSection"
          class="game-card rounded-xl p-4 md:p-6 hidden"
        >
          <h2 class="text-lg md:text-xl font-bold text-white mb-4 step-header">
            <span class="step-indicator">4</span>
            CreeazÄƒ Jocul
          </h2>
          <div class="text-center">
            <button
              id="createGameBtn"
              class="create-game-btn py-4 px-8 rounded-lg font-bold text-lg min-h-[56px]"
            >
              <i class="fas fa-play mr-2"></i>
              CREEAZÄ‚ JOC
            </button>
          </div>
        </section>

        <!-- Loading -->
        <section
          id="loadingSection"
          class="game-card rounded-xl p-4 md:p-6 hidden"
        >
          <div class="text-center">
            <i
              class="fas fa-spinner loading-spinner text-3xl md:text-4xl text-yellow-400 mb-4"
            ></i>
            <p class="text-white text-sm md:text-base" id="loadingText">
              Se creeazÄƒ jocul...
            </p>
          </div>
        </section>

        <!-- Game Created -->
        <section
          id="gameCreatedSection"
          class="game-card rounded-xl p-4 md:p-6 hidden"
        >
          <div class="text-center">
            <i
              class="fas fa-check-circle text-4xl md:text-5xl text-green-400 mb-4"
            ></i>
            <h2 class="text-xl md:text-2xl font-bold text-white mb-4">
              ðŸŽ‰ Joc Creat cu Succes!
            </h2>
            <div class="game-code-display rounded-lg p-4 mb-6">
              <p class="text-blue-200 mb-2 text-sm md:text-base">
                Codul jocului tÄƒu:
              </p>
              <div
                class="text-3xl md:text-4xl font-bold text-yellow-400 mb-2 tracking-wider"
                id="gameCodeDisplay"
              ></div>
              <p class="text-xs md:text-sm text-blue-200">
                ðŸ“± ÃŽmparte acest cod cu participanÈ›ii
              </p>
            </div>
            <div class="space-y-3 md:space-y-4">
              <button
                id="openControlBtn"
                class="control-btn w-full py-3 px-6 rounded-lg font-bold min-h-[56px]"
              >
                <i class="fas fa-gamepad mr-2"></i>
                INTRÄ‚ ÃŽN CONTROL PANEL
              </button>
              <button
                id="openPublicBtn"
                class="public-btn w-full py-3 px-6 rounded-lg font-bold min-h-[56px]"
              >
                <i class="fas fa-tv mr-2"></i>
                DESCHIDE PUBLIC DISPLAY
              </button>
            </div>
          </div>
        </section>
      </main>

      <!-- Back Button -->
      <footer class="text-center mt-6 md:mt-8">
        <button
          onclick="history.back()"
          class="back-button px-6 py-3 rounded-lg font-semibold transition-all"
        >
          <i class="fas fa-arrow-left mr-2"></i>
          ÃŽnapoi la Pagina PrincipalÄƒ
        </button>
      </footer>
    </div>

    <!-- Preview Modal -->
    <div
      id="previewModal"
      class="fixed inset-0 preview-modal hidden flex items-center justify-center z-50 p-4"
    >
      <div
        class="preview-content rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-4 md:p-6 custom-scrollbar"
      >
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg md:text-xl font-bold text-white">
            <i class="fas fa-eye mr-2 text-yellow-400"></i>
            Previzualizare
          </h3>
          <button
            id="closePreview"
            class="close-button min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg"
          >
            <i class="fas fa-times text-xl md:text-2xl"></i>
          </button>
        </div>
        <div id="previewContent">
          <!-- Preview content will be loaded here -->
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase/client.js"></script>
    <script src="setup.js"></script>
  </body>
</html>
